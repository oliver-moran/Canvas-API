<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>Canvas API example</title>

<script language="javascript" src="../canvas_api.js"></script>

</head>

<body>

<canvas id="bookmarks" width="512" height="128">Your browser does not support the canvas tag.</canvas>

<script language="javascript">

// Canvas.debug = true;

var bookmarks = {
	init : function(){

		var container = new $Group(0,0);
		var mask = new $Mask(0,0);
		var rect = new $Polygon(-5,0, 69,0, 69,74, -5,74)
		mask.add(rect);
		container.setMask(mask);
		var shadow = new $Image(-5,64, "icons/shadow.png");
		shadow.layer = 1;
		shadow.alpha = 50;
		container.add(shadow);
		
		var feed = new $Image(0,45, "icons/feed-icon-64x64.png");
		bookmarks.drawing.add(container, "feedContainer", true);
		bookmarks.drawing.scene["feedContainer"].x = 5;
		bookmarks.drawing.scene["feedContainer"].add(feed);

		var geotag = new $Image(0,45, "icons/geotag-icon-64x64.png");
		bookmarks.drawing.add(container, "geotagContainer", true);
		bookmarks.drawing.scene["geotagContainer"].x = 85;
		bookmarks.drawing.scene["geotagContainer"].add(geotag);

		var openshare = new $Image(0,45, "icons/openshare-icon-64x64.png");
		bookmarks.drawing.add(container, "openshareContainer", true);
		bookmarks.drawing.scene["openshareContainer"].x = 165;
		bookmarks.drawing.scene["openshareContainer"].add(openshare);

		var opml = new $Image(0,45, "icons/opml-icon-64x64.png");
		bookmarks.drawing.add(container, "opmlContainer", true);
		bookmarks.drawing.scene["opmlContainer"].x = 245;
		bookmarks.drawing.scene["opmlContainer"].add(opml);
		
		var over = function(event){
			event.object.tween({y:20, time:0.5, transition:"easeOutBack"});
		}
		var out = function(event){
			event.object.tween({y:45, time:0.5, transition:"easeOutBack"});
		}
		var click = function(event){
			event.object.tween({y:45, time:0.5, transition:"easeOutBack"});
			switch (event.object){
				case feed:
					window.open("http://www.mozilla.org/foundation/feed-icon-guidelines/");
					break;
				case geotag:
					window.open("http://www.geotagicons.com/");
					break;
				case openshare:
					window.open("http://www.openshareicons.com/");
					break;
				case opml:
					window.open("http://opmlicons.com/");
					break;
			}
		}
		
		feed.onMouseOver = over;
		geotag.onMouseOver = over;
		openshare.onMouseOver = over;
		opml.onMouseOver = over;
		
		feed.onMouseOut = out;
		geotag.onMouseOut = out;
		openshare.onMouseOut = out;
		opml.onMouseOut = out;
		
		feed.onRelease = click;
		geotag.onRelease = click;
		openshare.onRelease = click;
		opml.onRelease = click;
		
		var text = new $Text(0,80, "Roll over and click on the icons above.");
		bookmarks.drawing.add(text);
		
	}
}

</script>

</body>
</html>